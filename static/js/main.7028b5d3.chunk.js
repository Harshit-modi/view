(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{143:function(e,t,n){},144:function(e,t,n){},150:function(e,t,n){"use strict";n.r(t);n(68);var a=n(0),r=n.n(a),o=n(22),c=n.n(o),s=n(27),i=n(10),l=n(60),u=n(31),m=n(61),d=n.n(m),p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{users:{},pageCount:0,isFetching:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REQUEST":return Object(u.a)({},e,{isFetching:!0});case"SUCCESS":if(t.response){var n=d()({},e,t.response.entities);return n.pageCount=t.response.pageCount+1,n.isFetching=!1,n}return Object(u.a)({},e,{isFetching:!1});case"FAILURE":return Object(u.a)({},e,{isFetching:!1});default:return e}},h=n(28),f=n(39),E=n(62),v="https://randomuser.me/api/",g=new f.b.Entity("users",{},{idAttribute:function(e){return e.email}}),y={USER:g,USER_ARRAY:[g]},b=function(e){return function(t){return function(n){var a=n["Call API"];if("undefined"===typeof a)return t(n);var r=a.endpoint,o=a.schema,c=a.types;if("function"===typeof r&&(r=r(e.getState())),"string"!==typeof r)throw new Error("Specify a string endpoint URL.");if(!o)throw new Error("Specify one of the exported Schemas.");if(!Array.isArray(c)||3!==c.length)throw new Error("Expected an array of three action types.");if(!c.every(function(e){return"string"===typeof e}))throw new Error("Expected action types to be strings.");var s=function(e){var t=Object.assign({},n,e);return delete t["Call API"],t},i=Object(h.a)(c,3),l=i[0],u=i[1],m=i[2];return t(s({type:l})),function(e,t){var n=-1===e.indexOf(v)?v+e:e;return fetch(n).then(function(e){return e.json().then(function(n){if(!e.ok)return Promise.reject(n);var a=Object(E.camelizeKeys)(n.results);return Object.assign({},Object(f.a)(a,t),{pageCount:n.info.page})})})}(r,o).then(function(e){return t(s({response:e,type:u}))},function(e){return t(s({type:m,error:e.message||"Something bad happened"}))})}}};var w=n(37),j=(n(143),n(8)),O=n(63),A=n.n(O),S=(n(144),n(24)),C=n(25),N=n(29),R=n(26),U=n(30),x=n(152),D={position:"fixed",background:"white",top:0,left:0,width:"100%",height:"100%"},L={fontWeight:"bold",border:"1px solid"},F={borderRight:"1px solid"},k={border:"1px solid",minHeight:"100px"},I={},M=function(e){function t(){var e,n;Object(S.a)(this,t);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(n=Object(N.a)(this,(e=Object(R.a)(t)).call.apply(e,[this].concat(o)))).handleLoadMore=function(){n.props.onLoadMore()},n.onScroll=function(){window.innerHeight+window.scrollY>=document.body.offsetHeight-500&&n.props.userData&&n.handleLoadMore()},n.renderItem=function(e){var t=Object(h.a)(e,2),a=t[0],o=t[1];return r.a.createElement("div",{className:"row align-items-center",key:a,style:k},r.a.createElement("div",{className:"col-6 col-sm",style:I},r.a.createElement("img",{src:o.picture.thumbnail})),r.a.createElement("div",{className:"col-6 col-sm",style:I},n.toTitleCase(o.name.title)," ",n.toTitleCase(o.name.first)," ",n.toTitleCase(o.name.last)),r.a.createElement("div",{className:"col-6 col-sm",style:I},o.email),r.a.createElement("div",{className:"col-6 col-sm",style:I},new Date(o.dob.date).toLocaleDateString()),r.a.createElement("div",{className:"col-6 col-sm",style:I},o.location.street,", ",r.a.createElement("br",null),o.location.city,", ",o.location.state,". ",o.location.postcode),r.a.createElement("div",{className:"col-6 col-sm",style:I},o.cell))},n}return Object(U.a)(t,e),Object(C.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.onScroll,!1)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.onScroll,!1)}},{key:"toTitleCase",value:function(e){return e.replace(/\w\S*/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})}},{key:"render",value:function(){var e=Object.entries(this.props.userData).map(this.renderItem),t=r.a.createElement("div",{style:D,className:"d-flex align-items-center justify-content-center"},r.a.createElement(x.a,{animation:"border"}));return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row",style:L},r.a.createElement("div",{className:"col-6 col-sm",style:F},"Picture"),r.a.createElement("div",{className:"col-6 col-sm",style:F},"Name"),r.a.createElement("div",{className:"col-6 col-sm",style:F},"Email"),r.a.createElement("div",{className:"col-6 col-sm",style:F},"DOB"),r.a.createElement("div",{className:"col-6 col-sm",style:F},"Address"),r.a.createElement("div",{className:"col-6 col-sm",style:F},"Phone")),e,this.props.isFetching?t:null)}}]),t}(a.Component),T=n(13),P=function(e){function t(){var e,n;Object(S.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(N.a)(this,(e=Object(R.a)(t)).call.apply(e,[this].concat(r)))).handleLoadMore=function(){n.props.loadMoreData()},n.componentDidMount=function(){n.props.loadInitData()},n}return Object(U.a)(t,e),Object(C.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",{style:{marginBottom:"30px"}},"Users"),r.a.createElement(M,{userData:this.props.userData,onLoadMore:this.handleLoadMore,isFetching:this.props.isFetching}))}}]),t}(a.Component),W=Object(s.b)(function(e){return{userData:e.users,isFetching:e.isFetching}},{loadInitData:function(){return function(e){return e(Object(T.a)({},"Call API",{types:["REQUEST","SUCCESS","FAILURE"],endpoint:"?page=1&results=20&seed=test",schema:y.USER_ARRAY}))}},loadMoreData:function(){return function(e,t){var n=(t()||{}).pageCount;return e(function(e){return Object(T.a)({},"Call API",{types:["REQUEST","SUCCESS","FAILURE"],endpoint:e,schema:y.USER_ARRAY})}("?page="+(void 0===n?0:n)+"&results=20&seed=test"))}}})(P),B=function(){return r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"App-header"},r.a.createElement("img",{src:A.a,className:"App-logo",alt:"logo"}),r.a.createElement("h2",null,"Welcome to React")),r.a.createElement("p",{className:"App-intro"},"To get started, edit ",r.a.createElement("code",null,"src/App.js")," and save to reload."))};var Y=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(j.a,{exact:!0,path:"/",component:B}),r.a.createElement(j.a,{path:"/users",component:W}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(s.a,{store:Object(i.d)(p,Object(i.c)(Object(i.a)(l.a,b)))},r.a.createElement(w.a,{basename:"/view"},r.a.createElement(Y,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},63:function(e,t,n){e.exports=n.p+"static/media/logo.5d5d9eef.svg"},67:function(e,t,n){e.exports=n(150)}},[[67,1,2]]]);
//# sourceMappingURL=main.7028b5d3.chunk.js.map